{"openapi":"3.0.3","info":{"title":"Goa API","version":"0.0.1"},"servers":[{"url":"http://localhost:80","description":"Default server for auth"}],"paths":{"/auth/github":{"get":{"tags":["auth"],"summary":"auth_url auth","description":"Get GitHub OAuth authorization URL with state parameter","operationId":"auth#auth_url","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthURLResponseBody"},"example":{"auth_url":"Commodi voluptatem alias dolore est.","state":"Consequatur sit sit doloremque."}}}},"500":{"description":"internal_error: Internal Server Error response.","content":{"application/json":{"schema":{"type":"string","example":"Quia amet."},"example":"Blanditiis dolores."}}}}}},"/auth/github/callback":{"get":{"tags":["auth"],"summary":"oauth_callback auth","description":"Handle GitHub OAuth callback and return opaque token","operationId":"auth#oauth_callback","parameters":[{"name":"code","in":"query","description":"Authorization code from GitHub","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Authorization code from GitHub","example":"Sapiente quam minima."},"example":"Corporis debitis reprehenderit."},{"name":"state","in":"query","description":"OAuth state parameter for validation","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"OAuth state parameter for validation","example":"Quod minima id accusantium perferendis."},"example":"Est porro."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OauthCallbackResponseBody"},"example":{"access_token":"Autem rerum.","expires_in":1087056026976835113,"token_type":"Commodi fugit et voluptas.","user_id":"Ipsam illum ut repellendus velit qui soluta."}}}},"400":{"description":"invalid_code: Bad Request response.","content":{"application/json":{"schema":{"type":"string","example":"Voluptatibus quia tenetur enim ad."},"example":"Quo qui ipsum ex dolores unde."}}},"500":{"description":"internal_error: Internal Server Error response.","content":{"application/json":{"schema":{"type":"string","example":"Ut aut quo."},"example":"Eum recusandae maiores qui dolore."}}},"502":{"description":"github_error: Bad Gateway response.","content":{"application/json":{"schema":{"type":"string","example":"Cupiditate libero quod natus."},"example":"Itaque sint dolores."}}}}}},"/introspect":{"post":{"tags":["auth"],"summary":"introspect auth","description":"Introspect opaque token and return internal JWT token for Kong Gateway","operationId":"auth#introspect","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IntrospectRequestBody"},"example":{"token":"Recusandae non cum perspiciatis error."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IntrospectResponseBody"},"example":{"active":true,"exp":7217923492750129386,"jwt":"Autem tenetur et voluptate possimus asperiores ea.","scopes":["Rerum tempore velit consequatur consectetur.","Saepe voluptas ex sit voluptate.","Eveniet molestias.","Sequi hic perspiciatis nobis perspiciatis quibusdam."]}}}},"401":{"description":"invalid_token: Unauthorized response.","content":{"application/json":{"schema":{"type":"string","example":"Exercitationem aut."},"example":"Vel quisquam aut."}}},"500":{"description":"internal_error: Internal Server Error response.","content":{"application/json":{"schema":{"type":"string","example":"Qui inventore amet deserunt ex laboriosam."},"example":"Dolores consectetur sed et pariatur modi non."}}}}}}},"components":{"schemas":{"AuthURLResponseBody":{"type":"object","properties":{"auth_url":{"type":"string","description":"GitHub OAuth authorization URL","example":"Et rerum et."},"state":{"type":"string","description":"OAuth state parameter for CSRF protection","example":"Saepe quia."}},"example":{"auth_url":"Placeat et non hic voluptatum.","state":"Provident quia maiores voluptatem aut et ipsum."},"required":["auth_url","state"]},"IntrospectRequestBody":{"type":"object","properties":{"token":{"type":"string","description":"Opaque token to introspect","example":"Dolorem veniam atque consectetur atque officiis."}},"example":{"token":"Ratione reprehenderit quae voluptas."},"required":["token"]},"IntrospectResponseBody":{"type":"object","properties":{"active":{"type":"boolean","description":"Whether the token is active","example":false},"exp":{"type":"integer","description":"Token expiration timestamp","example":8404174116512200790,"format":"int64"},"jwt":{"type":"string","description":"Internal JWT token for downstream services","example":"Nisi odio velit ducimus facilis molestiae."},"scopes":{"type":"array","items":{"type":"string","example":"Optio consequatur excepturi non occaecati."},"description":"Token scopes","example":["Deleniti fugit qui qui reiciendis veniam.","Quisquam pariatur perspiciatis.","Aut rerum illum tempora et molestiae."]}},"example":{"active":true,"exp":9117606062374594975,"jwt":"Sit dolorum et error.","scopes":["Quam similique.","Maiores quidem hic veritatis distinctio."]},"required":["jwt","active"]},"OauthCallbackResponseBody":{"type":"object","properties":{"access_token":{"type":"string","description":"Opaque access token","example":"Necessitatibus quia accusantium excepturi sit."},"expires_in":{"type":"integer","description":"Token expiration in seconds","example":5215514942107899905,"format":"int64"},"token_type":{"type":"string","description":"Token type (Bearer)","example":"Aliquam numquam voluptatem ad veritatis qui."},"user_id":{"type":"string","description":"GitHub user ID","example":"Modi qui soluta omnis totam necessitatibus atque."}},"example":{"access_token":"Ea laborum qui animi et iure fugit.","expires_in":4934650466968033813,"token_type":"Totam aut dignissimos distinctio eum est corrupti.","user_id":"Modi dolorem quaerat voluptas."},"required":["access_token","token_type","expires_in","user_id"]}}},"tags":[{"name":"auth","description":"Authentication service that converts opaque tokens to internal JWT tokens for Kong Gateway"}]}